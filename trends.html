  <!DOCTYPE html>
  <html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="trends.css">
    <title>Trends Feed</title>
  </head>
  <body>
    <h1 class="Trends">Trends</h1>
    <img class="logo" src="Logo.png" alt="Logo">

    <div class="square">
      <div class="squa">
        <a class="article-link" href="#" target="_blank">
          <div class="squareblur"></div>
          <h1 class="titre">Titre</h1>
          <h6 class="date">Date</h6>
        </a>
      </div>

      <div class="squa">
        <a class="article-link" href="#" target="_blank">
          <div class="squareblur"></div>
          <h1 class="titre">Titre</h1>
          <h6 class="date">Date</h6>
        </a>
      </div>

      <div class="squa">
        <a class="article-link" href="#" target="_blank">
          <div class="squareblur"></div>
          <h1 class="titre">Titre</h1>
          <h6 class="date">Date</h6>
        </a>
      </div>
    </div>

    <button id="openFeedBtn" class="open-feed-btn" aria-label="Ouvrir Feed">Feed</button>

    <!-- === Overlay Feed === -->
    <section id="feedOverlay" class="feed-overlay" aria-hidden="true" style="display:none;">
      <div class="feed-header">
        <h2 class="feed-title">Feed</h2>
        <button id="closeFeedBtn" class="feed-close" aria-label="Fermer">✕</button>
      </div>
      <div id="feedScroller" class="feed-scroller" tabindex="0" role="region" aria-label="Feed Pour toi"></div>
    </section>


    <!-- === OVERLAY DU PACK === -->
   

    <!-- === BARRE DE NAVIGATION === -->
    <div class="navbar">
      <a href="#" class="home-link"><div class="home-marker"></div><img class="icon home-icon" src="home.png" alt="Accueil"></a>
      <a href="peinture.html"><img class="icon" src="peinture.png" alt="Peinture"></a>
      <a href="#"><img class="icon" src="peintre.png" alt="Peintre"></a>
      <a href="#"><img class="icon" src="museum.png" alt="Musée"></a>
      <a href="collection.html"><img class="icon" src="fav.png" alt="Favoris"></a>
      <a href="profile.html"><img class="icon" src="profile.png" alt="Profil"></a>
    </div>

  <script>
const squares = document.querySelectorAll('.squa');
const apiKey = 'c9720d2b84b3487d8724c9333b409ba2';

// Mots-clés pour inclure uniquement des articles liés à l’art
const keywordsArt = [
  'peinture', 'sculpture', 'dessin', 'gravure', 'fresque', 'installation artistique',
  'art contemporain', 'art moderne', 'art classique', 'photographie artistique',
  'portrait', 'nature morte', 'tapisserie', 'exposition', 'musée', 'galerie'
];

// Mots-clés pour exclure tout hors-sujet
const exclusionKeywords = [
  'football', 'rugby', 'cinéma', 'série', 'film', 'musique', 'concert',
  'politique', 'gouvernement', 'élection', 'technologie', 'finance',
  'économie', 'voyage', 'mode', 'fashion', 'maquillage'
];

async function fetchArtNews() {
  try {
    // Optionnel : ajouter des sources spécialisées
    const sources = 'lemonde.fr,connaissancesdesarts.com,beauxarts.com';

    const targetUrl = `https://newsapi.org/v2/everything?q=${keywordsArt.join(' OR ')}&language=fr&sortBy=publishedAt&pageSize=20&apiKey=${apiKey}&domains=${sources}`;
    const response = await fetch(targetUrl);
    if (!response.ok) throw new Error('Erreur lors du chargement de l’API');

    const data = await response.json();
    const articles = data.articles || [];

    const filteredArticles = articles.filter(article => {
      if (!article.title || !article.urlToImage) return false;
      const text = (article.title + ' ' + (article.description || '')).toLowerCase();
      // Doit contenir au moins un mot-clé artistique
      const hasArtKeyword = keywordsArt.some(k => text.includes(k));
      // Ne doit contenir aucun mot clé à exclure
      const hasNoExclusion = !exclusionKeywords.some(k => text.includes(k));
      return hasArtKeyword && hasNoExclusion;
    });

    filteredArticles.slice(0, squares.length).forEach((article, i) => {
      const square = squares[i];
      const link = square?.querySelector('.article-link');
      if (!link) return;

      link.style.backgroundImage = `url('${article.urlToImage}')`;
      link.style.backgroundSize = 'cover';
      link.style.backgroundPosition = 'center';
      link.style.display = 'block';
      link.style.borderRadius = '10px';
      link.href = article.url;
      link.setAttribute('aria-label', `Lire l'article : ${article.title}`);
      link.setAttribute('title', article.title);

      const titreEl = link.querySelector('.titre');
      if (titreEl) titreEl.textContent = article.title.length > 60 ? article.title.slice(0, 60) + '...' : article.title;

      const dateEl = link.querySelector('.date');
if (dateEl) {
  if (article.publishedAt) {
    const published = new Date(article.publishedAt);
    const now = new Date();
    const diffMs = now - published; // différence en millisecondes
    const diffMinutes = Math.floor(diffMs / 60000);

    let timeAgo;
    if (diffMinutes < 60) {
      timeAgo = `posté il y a ${diffMinutes} minute${diffMinutes > 1 ? 's' : ''}`;
    } else {
      const diffHours = Math.floor(diffMinutes / 60);
      timeAgo = `${diffHours} heure${diffHours > 1 ? 's' : ''}`;
    }

    dateEl.textContent = timeAgo;
  } else {
    dateEl.textContent = 'Date inconnue';
  }
}
    });

    console.log("=== ARTICLES ART AFFICHÉS ===");
    filteredArticles.slice(0, 5).forEach(a => console.log(a.title));

  } catch (error) {
    console.error('Erreur API:', error);
  }
}



fetchArtNews();
setInterval(fetchArtNews, 10 * 60 * 1000);


</script>






<script> 
// ===== DONNÉES DES TRENDS =====
const trendsSets = [
  // ===== TABLEAUX (≈85) =====
  { titre: "American Gothic", date: "1930", style: "Régionalisme", image: "american-gothic.jpg" },
  { titre: "Autumn Rhythm", date: "1950", style: "Expressionnisme abstrait", image: "autumn-rhythm.jpg" },
  { titre: "Autoportrait au bandage", date: "1889", style: "Post-impressionnisme", image: "autoportrait-bandage.jpg" },
  { titre: "Ballet Rehearsal", date: "1874", style: "Impressionnisme", image: "ballet-rehearsal.jpg" },
  { titre: "Blue Nude", date: "1907", style: "Fauvisme", image: "blue-nude.jpg" },
  { titre: "Broadway Boogie Woogie", date: "1943", style: "Néoplasticisme", image: "boogie-woogie.jpg" },
  { titre: "Café de nuit", date: "1888", style: "Post-impressionnisme", image: "cafe-nuit.jpg" },
  { titre: "Campbell's Soup Cans", date: "1962", style: "Pop Art", image: "campbells.jpg" },
  { titre: "Champs de blé avec corbeaux", date: "1890", style: "Post-impressionnisme", image: "ble-corbeaux.jpg" },
  { titre: "Composition II in Red Blue Yellow", date: "1930", style: "Néoplasticisme", image: "composition-ii.jpg" },
  { titre: "Composition VIII", date: "1923", style: "Abstraction", image: "composition-viii.jpg" },
  { titre: "Coucher de soleil à Étretat", date: "1883", style: "Impressionnisme", image: "etretat.jpg" },
  { titre: "Crying Girl", date: "1964", style: "Pop Art", image: "crying-girl.jpg" },
  { titre: "Drowning Girl", date: "1963", style: "Pop Art", image: "drowning-girl.jpg" },
  { titre: "Femme à la cafetière", date: "1890", style: "Post-impressionnisme", image: "femme-cafetiere.jpg" },
  { titre: "Flag", date: "1954", style: "Pop Art", image: "flag-johns.jpg" },
  { titre: "Girl with Balloon", date: "2002", style: "Street Art", image: "girl-balloon.jpg" },
  { titre: "Guernica", date: "1937", style: "Cubisme", image: "guernica.jpg" },
  { titre: "Haystacks", date: "1891", style: "Impressionnisme", image: "haystacks.jpg" },
  { titre: "Henry Ford Hospital", date: "1932", style: "Surréalisme", image: "henry-ford.jpg" },
  { titre: "Hopeless", date: "1963", style: "Pop Art", image: "hopeless.jpg" },
  { titre: "Impression, soleil levant", date: "1872", style: "Impressionnisme", image: "impression-soleil.jpg" },
  { titre: "Jardin des délices", date: "1505", style: "Renaissance", image: "jardin-delices.jpg" },
  { titre: "La Balançoire", date: "1876", style: "Impressionnisme", image: "balancoire.jpg" },
  { titre: "La Création d'Adam", date: "1512", style: "Renaissance", image: "creation-adam.jpg" },
  { titre: "La Danse", date: "1910", style: "Fauvisme", image: "danse-matisse.jpg" },
  { titre: "La Gare Saint-Lazare", date: "1877", style: "Impressionnisme", image: "gare-saint-lazare.jpg" },
  { titre: "La Jeune fille à la perle", date: "1665", style: "Baroque", image: "jeune-fille-perle.jpg" },
  { titre: "La Joconde", date: "1503", style: "Renaissance", image: "joconde.jpg" },
  { titre: "La Liberté guidant le peuple", date: "1830", style: "Romantisme", image: "liberte-peuple.jpg" },
  { titre: "La Mort de Marat", date: "1793", style: "Néoclassicisme", image: "marat.jpg" },
  { titre: "La Naissance de Vénus", date: "1485", style: "Renaissance", image: "naissance-venus.jpg" },
  { titre: "La Nuit étoilée", date: "1889", style: "Post-impressionnisme", image: "nuit-etoilee.jpg" },
  { titre: "La Persistance de la mémoire", date: "1931", style: "Surréalisme", image: "persistence-memoire.jpg" },
  { titre: "La Ronde de nuit", date: "1642", style: "Baroque", image: "ronde-nuit.jpg" },
  { titre: "L'École d'Athènes", date: "1511", style: "Renaissance", image: "ecole-athenes.jpg" },
  { titre: "Le Baiser", date: "1908", style: "Symbolisme", image: "baiser-klimt.jpg" },
  { titre: "Le Cauchemar", date: "1781", style: "Romantisme", image: "cauchemar.jpg" },
  { titre: "Le Cri", date: "1893", style: "Expressionnisme", image: "le-cri.jpg" },
  { titre: "Le Déjeuner des canotiers", date: "1881", style: "Impressionnisme", image: "dejeuner-canotiers.jpg" },
  { titre: "Le Déjeuner sur l'herbe", date: "1863", style: "Réalisme", image: "dejeuner-herbe.jpg" },
  { titre: "Le Pont de l'Europe", date: "1876", style: "Impressionnisme", image: "pont-europe.jpg" },
  { titre: "Le Radeau de la Méduse", date: "1819", style: "Romantisme", image: "radeau-meduse.jpg" },
  { titre: "Le Serment des Horaces", date: "1784", style: "Néoclassicisme", image: "horaces.jpg" },
  { titre: "Le Tricheur à l'as de carreau", date: "1635", style: "Baroque", image: "tricheur-carreau.jpg" },
  { titre: "Le Violon d'Ingres", date: "1924", style: "Surréalisme", image: "violon-ingres.jpg" },
  { titre: "Les Baigneuses à Asnières", date: "1884", style: "Post-impressionnisme", image: "baigneuses-asnieres.jpg" },
  { titre: "Les Chaises", date: "1888", style: "Post-impressionnisme", image: "chaises.jpg" },
  { titre: "Les Demoiselles d'Avignon", date: "1907", style: "Cubisme", image: "demoiselles-avignon.jpg" },
  { titre: "Les Grandes Baigneuses", date: "1898", style: "Post-impressionnisme", image: "grandes-baigneses.jpg" },
  { titre: "Les Joueurs de cartes", date: "1895", style: "Post-impressionnisme", image: "joueurs-cartes.jpg" },
  { titre: "Les Ménines", date: "1656", style: "Baroque", image: "menines.jpg" },
  { titre: "Les Nymphéas", date: "1916", style: "Impressionnisme", image: "nympheas.jpg" },
  { titre: "Les Sabines", date: "1799", style: "Néoclassicisme", image: "sabines.jpg" },
  { titre: "Les Trois Musiciens", date: "1921", style: "Cubisme", image: "trois-musiciens.jpg" },
  { titre: "Look Mickey", date: "1961", style: "Pop Art", image: "look-mickey.jpg" },
  { titre: "Love is in the Air", date: "2003", style: "Street Art", image: "love-air.jpg" },
  { titre: "Map", date: "1961", style: "Pop Art", image: "map-johns.jpg" },
  { titre: "Marilyn Diptych", date: "1962", style: "Pop Art", image: "marilyn.jpg" },
  { titre: "Nature morte aux chaises cannées", date: "1912", style: "Cubisme", image: "nature-canne.jpg" },
  { titre: "No. 5, 1948", date: "1948", style: "Expressionnisme abstrait", image: "number5.jpg" },
  { titre: "Nu descendant un escalier", date: "1912", style: "Futurisme", image: "nu-escalier.jpg" },
  { titre: "Ohhh…Alright…", date: "1964", style: "Pop Art", image: "ohhh-alright.jpg" },
  { titre: "Olympia", date: "1863", style: "Réalisme", image: "olympia.jpg" },
  { titre: "Olympic Swimmers", date: "1970", style: "Pop Art", image: "olympic-swimmers.jpg" },
  { titre: "One Number 31", date: "1950", style: "Expressionnisme abstrait", image: "one-number31.jpg" },
  { titre: "Primavera", date: "1482", style: "Renaissance", image: "primavera.jpg" },
  { titre: "Roots", date: "1943", style: "Surréalisme", image: "roots.jpg" },
  { titre: "Self-Portrait with Cropped Hair", date: "1940", style: "Surréalisme", image: "self-cropped-hair.jpg" },
  { titre: "Self-Portrait with Thorn Necklace", date: "1940", style: "Surréalisme", image: "thorn-necklace.jpg" },
  { titre: "Target with Four Faces", date: "1955", style: "Pop Art", image: "target-faces.jpg" },
  { titre: "The Two Fridas", date: "1939", style: "Surréalisme", image: "two-fridas.jpg" },
  { titre: "Tournesols", date: "1888", style: "Post-impressionnisme", image: "tournesols.jpg" },
  { titre: "Wanderer Above the Sea of Fog", date: "1818", style: "Romantisme", image: "wanderer.jpg" },
  { titre: "Water Lilies: Morning", date: "1915", style: "Impressionnisme", image: "water-lilies-morning.jpg" },
  { titre: "Whaam!", date: "1963", style: "Pop Art", image: "whaam.jpg" },
  { titre: "Woman I", date: "1950", style: "Expressionnisme abstrait", image: "woman1.jpg" },
  // ===== MUSEES (≈15) =====
  { titre: "Musée du Louvre", date: "Paris", style: "Musée", image: "louvre.jpg" },
  { titre: "Musée d'Orsay", date: "Paris", style: "Musée", image: "orsay.jpg" },
  { titre: "Prado", date: "Madrid", style: "Musée", image: "prado.jpg" },
  { titre: "Rijksmuseum", date: "Amsterdam", style: "Musée", image: "rijksmuseum.jpg" },
  { titre: "Uffizi", date: "Florence", style: "Musée", image: "uffizi.jpg" },
  { titre: "Tate Modern", date: "Londres", style: "Musée", image: "tate-modern.jpg" },
  { titre: "National Gallery", date: "Londres", style: "Musée", image: "national-gallery.jpg" },
  { titre: "Metropolitan Museum of Art", date: "New York", style: "Musée", image: "met.jpg" },
  { titre: "MoMA", date: "New York", style: "Musée", image: "moma.jpg" },
  { titre: "Art Institute of Chicago", date: "Chicago", style: "Musée", image: "art-chicago.jpg" },
  { titre: "Hermitage", date: "Saint-Pétersbourg", style: "Musée", image: "hermitage.jpg" },
  { titre: "Guggenheim", date: "New York", style: "Musée", image: "guggenheim.jpg" },
  { titre: "Centre Pompidou", date: "Paris", style: "Musée", image: "pompidou.jpg" },
  { titre: "Musée d'Art Moderne de Tokyo", date: "Tokyo", style: "Musée", image: "tokyo-mam.jpg" },
  { titre: "Musée Van Gogh", date: "Amsterdam", style: "Musée", image: "vangogh-museum.jpg" }
];

// ===== GESTION DU FEED =====
(function(){
  const openBtn   = document.getElementById('openFeedBtn');
  const overlay   = document.getElementById('feedOverlay');
  const closeBtn  = document.getElementById('closeFeedBtn');
  const scroller  = document.getElementById('feedScroller');

  function populateFeed(){
  scroller.innerHTML = '';

  // copie du tableau puis mélange aléatoire (algorithme de Fisher–Yates)
  const shuffled = [...trendsSets].sort(() => Math.random() - 0.5);

  shuffled.forEach(set => {
    const post = document.createElement('article');
    post.className = 'feed-post';
    post.innerHTML = `
      <div class="post-bg" style="background-image:url('tableaux/${set.image}')"></div>
      <div class="post-content">
        <h3 class="post-title">${set.titre}</h3>
        <div class="post-meta">${set.date || ''} ${set.style ? '• ' + set.style : ''}</div>
      </div>
      <div class="actions">
        <div class="action-btn">❤</div>
        <div class="action-btn">⤴</div>
      </div>`;
    scroller.appendChild(post);
  });
}


  function openFeed(){
    populateFeed();
    overlay.style.display = 'flex';
    overlay.setAttribute('aria-hidden','false');
  }

  function closeFeed(){
    overlay.style.display = 'none';
    overlay.setAttribute('aria-hidden','true');
  }

  openBtn.addEventListener('click', openFeed);
  closeBtn.addEventListener('click', closeFeed);
  document.addEventListener('keydown', e => { if (e.key === 'Escape') closeFeed(); });
})();
</script>





</body>
</html>
